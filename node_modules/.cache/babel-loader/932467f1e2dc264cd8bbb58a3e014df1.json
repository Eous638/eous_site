{"ast":null,"code":"import _objectWithoutProperties from\"C:\\\\Users\\\\aleks\\\\code\\\\eous_site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React,{useRef,useEffect}from'react';var defaultProps={src:undefined,width:undefined,height:undefined,alt:undefined};var Image=function Image(_ref){var className=_ref.className,src=_ref.src,width=_ref.width,height=_ref.height,alt=_ref.alt,props=_objectWithoutProperties(_ref,[\"className\",\"src\",\"width\",\"height\",\"alt\"]);var image=useRef(null);useEffect(function(){var placeholderImage=document.createElement('img');handlePlaceholder(image.current,placeholderImage);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var placeholderSrc=function placeholderSrc(w,h){return\"data:image/svg+xml,%3Csvg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 \".concat(w,\" \").concat(h,\"\\\"%3E%3C/svg%3E\");};var handlePlaceholder=function handlePlaceholder(img,placeholder){img.style.display='none';img.before(placeholder);placeholder.src=placeholderSrc(img.getAttribute('width')||0,img.getAttribute('height')||0);placeholder.width=img.getAttribute('width');placeholder.height=img.getAttribute('height');placeholder.style.opacity='0';img.className&&placeholder.classList.add(img.className);img.addEventListener('load',function(){placeholder.remove();img.style.display='';});};return/*#__PURE__*/React.createElement(\"img\",Object.assign({},props,{ref:image,className:className,src:src,width:width,height:height,alt:alt}));};Image.defaultProps=defaultProps;export default Image;","map":{"version":3,"sources":["C:/Users/aleks/code/eous_site/src/components/elements/Image.js"],"names":["React","useRef","useEffect","defaultProps","src","undefined","width","height","alt","Image","className","props","image","placeholderImage","document","createElement","handlePlaceholder","current","placeholderSrc","w","h","img","placeholder","style","display","before","getAttribute","opacity","classList","add","addEventListener","remove"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,KAAyC,OAAzC,CAaA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,GAAG,CAAEC,SADc,CAEnBC,KAAK,CAAED,SAFY,CAGnBE,MAAM,CAAEF,SAHW,CAInBG,GAAG,CAAEH,SAJc,CAArB,CAOA,GAAMI,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAOR,IANJC,CAAAA,SAMI,MANJA,SAMI,CALJN,GAKI,MALJA,GAKI,CAJJE,KAII,MAJJA,KAII,CAHJC,MAGI,MAHJA,MAGI,CAFJC,GAEI,MAFJA,GAEI,CADDG,KACC,2EAEJ,GAAMC,CAAAA,KAAK,CAAGX,MAAM,CAAC,IAAD,CAApB,CAEAC,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,gBAAgB,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAzB,CACAC,iBAAiB,CAACJ,KAAK,CAACK,OAAP,CAAgBJ,gBAAhB,CAAjB,CACF;AACC,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMK,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAIC,CAAJ,CAAU,CAC/B,6FAAoFD,CAApF,aAAyFC,CAAzF,oBACD,CAFD,CAIA,GAAMJ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACK,GAAD,CAAMC,WAAN,CAAsB,CAC9CD,GAAG,CAACE,KAAJ,CAAUC,OAAV,CAAoB,MAApB,CACAH,GAAG,CAACI,MAAJ,CAAWH,WAAX,EACAA,WAAW,CAAClB,GAAZ,CAAkBc,cAAc,CAC9BG,GAAG,CAACK,YAAJ,CAAiB,OAAjB,GAA6B,CADC,CAE9BL,GAAG,CAACK,YAAJ,CAAiB,QAAjB,GAA8B,CAFA,CAAhC,CAIAJ,WAAW,CAAChB,KAAZ,CAAoBe,GAAG,CAACK,YAAJ,CAAiB,OAAjB,CAApB,CACAJ,WAAW,CAACf,MAAZ,CAAqBc,GAAG,CAACK,YAAJ,CAAiB,QAAjB,CAArB,CACAJ,WAAW,CAACC,KAAZ,CAAkBI,OAAlB,CAA4B,GAA5B,CACAN,GAAG,CAACX,SAAJ,EAAiBY,WAAW,CAACM,SAAZ,CAAsBC,GAAtB,CAA0BR,GAAG,CAACX,SAA9B,CAAjB,CAEAW,GAAG,CAACS,gBAAJ,CAAqB,MAArB,CAA6B,UAAM,CACjCR,WAAW,CAACS,MAAZ,GACAV,GAAG,CAACE,KAAJ,CAAUC,OAAV,CAAoB,EAApB,CACD,CAHD,EAID,CAhBD,CAkBA,mBACE,2CACMb,KADN,EAEE,GAAG,CAAEC,KAFP,CAGE,SAAS,CAAEF,SAHb,CAIE,GAAG,CAAEN,GAJP,CAKE,KAAK,CAAEE,KALT,CAME,MAAM,CAAEC,MANV,CAOE,GAAG,CAAEC,GAPP,GADF,CAUD,CAjDD,CAoDAC,KAAK,CAACN,YAAN,CAAqBA,YAArB,CAEA,cAAeM,CAAAA,KAAf","sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst propTypes = {\r\n  src: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.string\r\n  ]).isRequired,\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  alt: PropTypes.string\r\n}\r\n\r\nconst defaultProps = {\r\n  src: undefined,\r\n  width: undefined,\r\n  height: undefined,\r\n  alt: undefined\r\n}\r\n\r\nconst Image = ({\r\n  className,\r\n  src,\r\n  width,\r\n  height,\r\n  alt,\r\n  ...props\r\n}) => {\r\n\r\n  const image = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const placeholderImage = document.createElement('img');\r\n    handlePlaceholder(image.current, placeholderImage);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  const placeholderSrc = (w, h) => {\r\n    return `data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${w} ${h}\"%3E%3C/svg%3E`;\r\n  }\r\n\r\n  const handlePlaceholder = (img, placeholder) => {\r\n    img.style.display = 'none';\r\n    img.before(placeholder);\r\n    placeholder.src = placeholderSrc(\r\n      img.getAttribute('width') || 0,\r\n      img.getAttribute('height') || 0\r\n    );\r\n    placeholder.width = img.getAttribute('width');\r\n    placeholder.height = img.getAttribute('height');\r\n    placeholder.style.opacity = '0';\r\n    img.className && placeholder.classList.add(img.className);\r\n\r\n    img.addEventListener('load', () => {\r\n      placeholder.remove();\r\n      img.style.display = '';\r\n    });\r\n  }  \r\n\r\n  return (\r\n    <img\r\n      {...props}\r\n      ref={image}\r\n      className={className}\r\n      src={src}\r\n      width={width}\r\n      height={height}\r\n      alt={alt} />\r\n  );\r\n}\r\n\r\nImage.propTypes = propTypes;\r\nImage.defaultProps = defaultProps;\r\n\r\nexport default Image;"]},"metadata":{},"sourceType":"module"}